import{_ as t,r as p,o as e,c as o,a as n,b as c,d as s,e as i}from"./app.34e7ec3f.js";const l={},u=n("hr",null,null,-1),k=n("hr",null,null,-1),r=s("\u4E00\u8D77\u517B\u6210\u5199\u4F5C\u4E60\u60EF\uFF01\u8FD9\u662F\u6211\u53C2\u4E0E\u300C\u6398\u91D1\u65E5\u65B0\u8BA1\u5212 \xB7 4 \u6708\u66F4\u6587\u6311\u6218\u300D\u7684\u7B2C6\u5929\uFF0C"),d={href:"https://juejin.cn/post/7080800226365145118",title:"https://juejin.cn/post/7080800226365145118",target:"_blank",rel:"noopener noreferrer"},v=s("\u70B9\u51FB\u67E5\u770B\u6D3B\u52A8\u8BE6\u60C5"),m=s("\u3002"),b=i(`<h1 id="\u4F7F\u7528node\u722C\u53D6\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528node\u722C\u53D6\u6570\u636E" aria-hidden="true">#</a> \u4F7F\u7528node\u722C\u53D6\u6570\u636E</h1><p>\u51C6\u5907\u7528<code>electron</code>\u5236\u4F5C\u4E00\u4E2A\u5C0F\u8BF4\u9605\u8BFB\u5DE5\u5177\u7EC3\u7EC3\u624B\uFF0C\u90A3\u4E48\u9996\u5148\u8981\u89E3\u51B3\u7684\u5C31\u662F\u6570\u636E\u95EE\u9898\uFF0C\u4E5F\u5C31\u662F\u5C0F\u8BF4\u7684\u6587\u672C\u3002</p><p>\u8FD9\u91CC\u51C6\u5907\u4F7F\u7528node\u5BF9\u5C0F\u8BF4\u7F51\u7AD9\u8FDB\u884C\u722C\u866B\u722C\u53D6\uFF0C\u5C1D\u8BD5\u722C\u4E0B\u4E00\u672C\u5C0F\u8BF4\uFF0C\u6570\u636E\u5C31\u4E0D\u5B58\u653E\u6570\u636E\u5E93\u4E86\uFF0C\u5148\u4F7F\u7528<code>txt</code>\u4F5C\u4E3A\u6587\u672C\u5B58\u50A8</p><p>\u5728<code>node</code>\u4E2D\u5BF9\u4E8E\u7F51\u7AD9\u7684\u8BF7\u6C42\uFF0C\u672C\u8EAB\u5C31\u5B58\u5728<code>http</code>\u548C<code>https</code>\u5E93\uFF0C\u5185\u90E8\u542B\u6709<code>request</code>\u8BF7\u6C42\u65B9\u6CD5\u3002</p><p>\u5B9E\u4F8B:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>request <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>TestUrl<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">encoding</span><span class="token operator">:</span><span class="token string">&#39;utf-8&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> chunks <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
    res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        chunks <span class="token operator">+=</span> chunk
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8BF7\u6C42\u7ED3\u675F&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F46\u662F\u4E5F\u5C31\u5230\u6B64\u4E3A\u6B62\u4E86\uFF0C\u53EA\u662F\u5B58\u53D6\u4E86\u4E00\u4E2A<code>html</code>\u7684\u6587\u672C\u6570\u636E\uFF0C\u5E76\u4E0D\u80FD\u591F\u5BF9\u5185\u90E8\u5143\u7D20\u8FDB\u884C\u63D0\u53D6\u4E4B\u7C7B\u7684\u5DE5\u4F5C\uFF08\u4E5F\u53EF\u4EE5\u6B63\u5219\u62FF\uFF0C\u4F46\u662F\u592A\u8FC7\u590D\u6742\uFF09\u3002</p><p>\u6211\u5C06\u8BBF\u95EE\u5230\u7684\u6570\u636E\u901A\u8FC7<code>fs.writeFile</code>\u65B9\u6CD5\u5B58\u50A8\u8D77\u6765\u4E86\uFF0C\u8FD9\u53EA\u662F\u6574\u4E2A\u7F51\u9875\u7684html</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ee5cc88274c144ac9caa34b0520f0ead~tplv-k3u1fbpfcp-watermark.image?" alt="\u5B58\u50A8\u8BBF\u95EE\u5230\u7684\u6570\u636E.png"></p><p>\u4F46\u662F\u6211\u60F3\u8981\u7684\u8FD8\u6709\u5404\u4E2A\u7AE0\u8282\u4E2D\u7684\u5185\u5BB9\uFF0C\u8FD9\u6837\u4E00\u6765\u5C31\u9700\u8981\u83B7\u53D6\u7AE0\u8282\u7684\u8D85\u94FE\u63A5\uFF0C\u7EC4\u6210\u8D85\u94FE\u63A5\u94FE\u8868\u8FDB\u53BB\u722C\u53D6</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/78b6af4762e14e87bd3ce367358ac18b~tplv-k3u1fbpfcp-watermark.image?" alt="\u8D85\u94FE\u63A501.png"></p><h2 id="cheerio\u5E93" tabindex="-1"><a class="header-anchor" href="#cheerio\u5E93" aria-hidden="true">#</a> cheerio\u5E93</h2><p>\u6240\u4EE5\uFF0C\u8FD9\u91CC\u5C31\u8981\u4ECB\u7ECD\u4E00\u4E2Ajs\u7684\u5E93\u4E86\uFF0C<code>cheerio</code></p><p>\u5B98\u65B9\u6587\u6863\uFF1Ahttps://cheerio.js.org/ \u4E2D\u6587\u6587\u6863\uFF1Ahttps://github.com/cheeriojs/cheerio/wiki/Chinese-README</p><p>\u5728\u6587\u6863\u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528\u793A\u4F8B\u8FDB\u884C\u8C03\u8BD5</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/68b25d0c94cd42f5a90a6fc9713b719b~tplv-k3u1fbpfcp-watermark.image?" alt="cheerio\u4ECB\u7ECD.png"></p><hr><h2 id="\u4F7F\u7528cheerio\u89E3\u6790html" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528cheerio\u89E3\u6790html" aria-hidden="true">#</a> \u4F7F\u7528cheerio\u89E3\u6790HTML</h2><p>cheerio\u89E3\u6790html\u65F6\uFF0C\u83B7\u53D6dom\u8282\u70B9\u7684\u65B9\u5F0F\u4E0E<code>jquery</code>\u76F8\u4F3C\u3002</p><p>\u6839\u636E\u4E4B\u524D\u83B7\u53D6\u5230\u7684\u4E66\u7C4D\u9996\u9875\u7684html\uFF0C\u67E5\u627E\u81EA\u5DF1\u60F3\u8981\u7684dom\u8282\u70B9\u6570\u636E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> cheerio <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;cheerio&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5F15\u5165\u8BFB\u53D6\u65B9\u6CD5</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> getFile<span class="token punctuation">,</span> writeFun <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./requestNovel&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> hasIndexPromise <span class="token operator">=</span> <span class="token function">getFile</span><span class="token punctuation">(</span><span class="token string">&#39;./hasGetfile/index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> bookArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

hasIndexPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> htmlstr <span class="token operator">=</span> res<span class="token punctuation">;</span>
    <span class="token keyword">let</span> $ <span class="token operator">=</span> cheerio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>htmlstr<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.listmain dl dd a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> href <span class="token operator">=</span> <span class="token string">&#39;https://www.shuquge.com/txt/147032/&#39;</span> <span class="token operator">+</span> <span class="token function">$</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&#39;href&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            bookArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> href <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// console.log(bookArray)</span>
    <span class="token function">writeFun</span><span class="token punctuation">(</span><span class="token string">&#39;./hasGetfile/hrefList.txt&#39;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>bookArray<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;w&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6253\u5370\u4E00\u4E0B\u4FE1\u606F</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/51fa237c21374ee5aa5f0306e3c46332~tplv-k3u1fbpfcp-watermark.image?" alt="\u7AE0\u8282\u8D85\u94FE\u63A5.png"></p><p>\u53EF\u4EE5\u540C\u65F6\u5C06\u8FD9\u4E9B\u4FE1\u606F\u4E5F\u5B58\u50A8\u8D77\u6765</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b036bac7209e4827a9e63e8f8397f4be~tplv-k3u1fbpfcp-watermark.image?" alt="\u7AE0\u8282\u8D85\u94FE\u63A502.png"></p><hr><p>\u73B0\u5728\u7AE0\u8282\u6570\u548C\u7AE0\u8282\u7684\u94FE\u63A5\u90FD\u6709\u4E86\uFF0C\u90A3\u4E48\u5C31\u53EF\u4EE5\u83B7\u53D6\u7AE0\u8282\u7684\u5185\u5BB9\u4E86\u3002</p><blockquote><p>\u56E0\u4E3A\u6279\u91CF\u722C\u53D6\u6700\u540E\u9700\u8981IP\u4EE3\u7406\uFF0C\u8FD9\u91CC\u8FD8\u6CA1\u51C6\u5907\uFF0C\u6682\u65F6\u5148\u5199\u83B7\u53D6\u67D0\u4E00\u7AE0\u8282\u5C0F\u8BF4\u7684\u5185\u5BB9\u65B9\u6CD5</p></blockquote><p>\u722C\u53D6\u67D0\u4E00\u7AE0\u8282\u7684\u5185\u5BB9\u5176\u5B9E\u4E5F\u6BD4\u8F83\u7B80\u5355\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u722C\u53D6\u67D0\u4E00\u7AE0\u8282\u7684\u5185\u5BB9\u65B9\u6CD5</span>
<span class="token keyword">function</span> <span class="token function">getOneChapter</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&gt;=</span> bookArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;\u672A\u80FD\u627E\u5230&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> name <span class="token operator">=</span> bookArray<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
        request <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>bookArray<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">.</span>href<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">encoding</span><span class="token operator">:</span><span class="token string">&#39;gbk&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
            res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> <span class="token parameter">chunk</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                html <span class="token operator">+=</span> chunk<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>           
                <span class="token keyword">let</span> $ <span class="token operator">=</span> cheerio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u5199\u6210txt</span>
                    <span class="token function">writeFun</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./hasGetfile/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.txt</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> content<span class="token punctuation">,</span> <span class="token string">&#39;w&#39;</span><span class="token punctuation">)</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;\u672A\u80FD\u627E\u5230&#39;</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        request<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">getOneChapter</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9baa2c71ed844e95a59c854d519392ee~tplv-k3u1fbpfcp-watermark.image?" alt="\u722C\u53D6\u7AE0\u8282\u5185\u5BB9.png"></p><hr><p>\u8FD9\u6837\uFF0C\u5C31\u53EF\u4EE5\u6839\u636E\u4E0A\u9762\u7684\u65B9\u6CD5\uFF0C\u6765\u521B\u9020\u4E00\u4E2A\u8C03\u7528\u63A5\u53E3\uFF0C\u4F20\u5165\u4E0D\u540C\u7684\u7AE0\u8282\u53C2\u6570\uFF0C\u83B7\u53D6\u5F53\u524D\u7AE0\u8282\u7684\u6570\u636E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">const</span> <span class="token constant">IO</span> <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> getAllChapter<span class="token punctuation">,</span> getOneChapter <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./readIndex&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u83B7\u53D6\u7AE0\u8282\u8D85\u94FE\u63A5\u94FE\u8868</span>
<span class="token function">getAllChapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token constant">IO</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&#39;/book&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u53C2\u6570</span>
    <span class="token keyword">let</span> query <span class="token operator">=</span> req<span class="token punctuation">.</span>query<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>query<span class="token punctuation">.</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u53D6\u67D0\u4E00\u7AE0\u8282\u6570\u636E</span>
        <span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token function">getOneChapter</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">d</span><span class="token operator">:</span> d <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">d</span><span class="token operator">:</span> d <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token number">404</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//\u670D\u52A1\u5668\u672C\u5730\u4E3B\u673A\u7684\u6570\u5B57</span>
<span class="token constant">IO</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token string">&#39;7001&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u542F\u52A8\u4E86\u3002\u3002\u3002&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6548\u679C\uFF1A</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3f2204e029b046039dcda61e16c1f0cc~tplv-k3u1fbpfcp-watermark.image?" alt="\u63A5\u53E3\u67E5\u627E\u7AE0\u8282.gif"></p><p>\u73B0\u5728\uFF0C\u4E00\u4E2A\u7B80\u5355\u7684\u67E5\u627E\u7AE0\u8282\u63A5\u53E3\u5C31\u505A\u597D\u4E86\uFF0C\u5E76\u4E14\u4E5F\u53EF\u4EE5\u505A\u4E00\u4E9B\u53C2\u6570\u8D85\u51FA\u5224\u65AD\u3002</p><p>\u5BF9\u4E8E\u4E0D\u540C\u7684\u6570\u636E\u63A5\u53E3\uFF0C\u722C\u866B\u5904\u7406\u65B9\u5F0F\u4E5F\u4E0D\u4E00\u6837\uFF0C\u4E0D\u8FC7\u5728\u672C\u6B21\u722C\u53D6\u7684\u94FE\u63A5\u4E2D\uFF0C\u5185\u5BB9\u7684\u663E\u793A\u5E76\u4E0D\u662F\u7531\u524D\u7AEF\u52A8\u6001\u6E32\u67D3\u51FA\u6765\u7684\uFF0C\u6240\u4EE5\u53EF\u4EE5\u76F4\u63A5\u722C\u53D6\u9759\u6001\u7684html\u5373\u53EF\u3002\u5982\u679C\u9047\u5230\u6570\u636E\u662F\u901A\u8FC7Ajax\u4E4B\u7C7B\u7684\u65B9\u5F0F\u83B7\u53D6\u5230\u7684json\u4E32\uFF0C\u90A3\u5C31\u8981\u901A\u8FC7\u7F51\u7EDC\u63A5\u53E3\u53BB\u8BF7\u6C42\u6570\u636E\u4E86\u3002</p>`,38);function f(h,g){const a=p("ExternalLinkIcon");return e(),o("div",null,[u,k,n("p",null,[r,n("a",d,[v,c(a)]),m]),b])}var w=t(l,[["render",f],["__file","node\u722C\u866B\u722C\u53D6\u5C0F\u8BF4\u7AE0\u8282.html.vue"]]);export{w as default};
